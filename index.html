```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>üöö Panel FLEX - Mikra</title>

<style>

body{
    background:#0f1115;
    color:white;
    font-family:system-ui;
    padding:30px;
}

h1{
    color:#FFE600;
}

button{
    background:#3483FA;
    border:none;
    padding:14px 22px;
    border-radius:8px;
    color:white;
    font-weight:bold;
    cursor:pointer;
    margin-right:10px;
}

button:hover{
    transform:scale(1.05);
}

.card{
    background:#1a1d24;
    padding:18px;
    border-radius:10px;
    margin-top:15px;
    border-left:6px solid #00ff88;
}

.row{
    margin:6px 0;
}

.loading{
    font-size:20px;
}

.badge{
    background:#00ff88;
    padding:4px 10px;
    border-radius:6px;
    color:black;
    font-weight:bold;
}

</style>
</head>

<body>

<h1>üèçÔ∏è FLEX EN CAMINO</h1>

<button onclick="conectar()">Conectar MercadoLibre</button>
<button onclick="cargarFlex()">Buscar FLEX</button>

<div id="app"></div>

<script>

const CONFIG = {
    CLIENT_ID:'6723747350775490',
    CLIENT_SECRET:'IpbZNxEJHqaOqou9rVJWs6F2tlswCfX5',
    REDIRECT_URI: window.location.origin + window.location.pathname,
    API:'https://mikra-flex-proxy.rafaelassir.workers.dev/api'
};

let token = localStorage.getItem('ml_token');

function conectar(){

    const url=`https://auth.mercadolibre.com.ar/authorization?response_type=code&client_id=${CONFIG.CLIENT_ID}&redirect_uri=${CONFIG.REDIRECT_URI}`;

    window.location.href=url;
}

async function auth(code){

    const r = await fetch(`${CONFIG.API}/oauth/token`,{
        method:'POST',
        headers:{'Content-Type':'application/x-www-form-urlencoded'},
        body:new URLSearchParams({
            grant_type:'authorization_code',
            client_id:CONFIG.CLIENT_ID,
            client_secret:CONFIG.CLIENT_SECRET,
            code,
            redirect_uri:CONFIG.REDIRECT_URI
        })
    });

    const data = await r.json();

    token=data.access_token;

    localStorage.setItem('ml_token',token);

    history.replaceState({},document.title,location.pathname);

    alert("‚úÖ Conectado!");
}

async function cargarFlex(){

    if(!token){
        alert("Primero conect√° MercadoLibre");
        return;
    }

    const app=document.getElementById('app');

    app.innerHTML='<div class="loading">Buscando FLEX en camino...</div>';

    try{

        let offset=0;
        let resultados=[];

        while(resultados.length < 80){

            const r=await fetch(
                `${CONFIG.API}/shipments/search?status=shipped&logistic_type=self_service&limit=50&offset=${offset}`,
                {headers:{Authorization:`Bearer ${token}`}}
            );

            const data=await r.json();

            if(!data.results || data.results.length===0) break;

            resultados.push(...data.results);

            offset+=50;
        }

        if(resultados.length===0){

            app.innerHTML="<h2>No hay FLEX en camino üéâ</h2>";
            return;
        }

        render(resultados);

    }catch(e){

        app.innerHTML=`Error: ${e.message}`;
    }
}

function render(envios){

    const app=document.getElementById('app');

    let html=`<h2>Total: ${envios.length}</h2>`;

    envios.forEach(s=>{

        html+=`

        <div class="card">

            <div class="row">
                <span class="badge">EN CAMINO</span>
            </div>

            <div class="row">
                <b>Shipping ID:</b> ${s.id}
            </div>

            <div class="row">
                <b>Direcci√≥n:</b>
                ${s.receiver_address?.street_name || ''}
                ${s.receiver_address?.street_number || ''},
                ${s.receiver_address?.city?.name || ''}
            </div>

            <div class="row">
                <b>Comprador:</b> ${s.receiver_address?.receiver_name || '-'}
            </div>

            <div class="row">
                <b>Fecha enviado:</b>
                ${s.status_history?.date_shipped || '-'}
            </div>

        </div>

        `;
    });

    app.innerHTML=html;
}

(function init(){

    const params=new URLSearchParams(location.search);
    const code=params.get('code');

    if(code){
        auth(code);
    }

})();

</script>

</body>
</html>
```
